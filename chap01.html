

<!DOCTYPE html>
<html class="writer-html5" lang="ja" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1. はじめに &mdash; Fortran演習(地球惑星物理学演習)</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5349f25f" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=9f0ccda0" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=f6f563f6"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/translations.js?v=4755f45a"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="検索" href="search.html" />
    <link rel="next" title="2. プログラムの作成と実行" href="chap02.html" />
    <link rel="prev" title="Fortran演習 (地球惑星物理学演習)" href="index.html" />
<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/3.18.1/build/cssreset/cssreset-min.css">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-99010794-2', 'auto');
  ga('send', 'pageview');

</script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Fortran演習
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">1. はじめに</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id3">1.1. 演習環境の準備</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id6">1.2. プログラミングを学ぶ意義</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id7">1.3. プログラミング言語について</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="chap02.html">2. プログラムの作成と実行</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap03.html">3. 変数・データ型・基本的な計算</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap04.html">4. 制御構造</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap05.html">5. 配列</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap06.html">6. 書式指定・ファイル入出力・文字列処理</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap07.html">7. 関数とサブルーチン</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap08.html">8. 数値解析の基礎</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap09.html">9. モジュールと構造型</a></li>
<li class="toctree-l1"><a class="reference internal" href="chap10.html">10. 付録</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Fortran演習</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">1. </span>はじめに</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="id1">
<h1><span class="section-number">1. </span>はじめに<a class="headerlink" href="#id1" title="Link to this heading"></a></h1>
<p>この演習では非常に短い期間でFortranによるプログラミングの基礎を学ぶことになる．ここで学ぶ内容は今後の演習に必須のものとなるので，心して取り組んで頂きたい．</p>
<p>とは言っても，プログラミング言語を用いて自分のやりたいことを思うがままに実現できるようになるのはそれほど簡単なことでは無く，この演習だけでは不十分であると思われる．プログラミング言語の文法自体は英語や日本語などの自然言語に比べたら格段に簡単だが，それでもそれを使いこなすのにはある程度の訓練が必要なのである．特にプログラミング初心者の人がこの演習の内容を全て理解するのは難しいので，分からない内容があっても落ち込むことは無い．(興味を持ってやっていればそのうちに自然と身に付くものである．) 最低限の目標は，Fortranというプログラミング言語の基礎を覚え，自分で簡単なプログラムの作成および実行が出来るようになること(=この後の演習の内容についていけるようになること)である．各節のタイトルに「<sup>†</sup>」がついている項目がいくつかあるが，この内容は演習の課題をこなすためには必ずしも知らなくて良い内容である．ただし，知っておくと色々と便利なことが多いので余裕があればこの内容もマスターしておくと良い．</p>
<p>なお演習時には言語仕様を事細かに解説するようなことはしない．そんなことをしていては時間が足りないし，何より退屈なだけである．また言語仕様の詳細を理解したからと言ってプログラムを書けるようになるわけではなく，全く実用的では無い．その代わりに，各事項を理解する助けになるようサンプルプログラムを多数用意してある．大事なのは自分でサンプルプログラムを修正，実行し，その動作を自分の目で確認することである．また毎日の課題に取り組むことで，「習うより慣れよ」の精神で実践的に基礎を身につけて行って欲しい．この文書についても教科書的なものでは無く，サンプルプログラムの解説といった位置付けである．また，各章の最後に用意してある演習課題には各自で取り組んで欲しい．</p>
<p>最初に断っておくと，この文書は <em>未完成</em> である．用語が統一されていなかったり，間違いなどを含んでいる可能性も大いにあるので，その点については注意して欲しい．内容としてはどちらかと言うと教科書には書いていないようなことを随時盛り込んでいく予定である(あくまで予定である)．</p>
<p>この演習では説明しないような内容(細かい文法事項など)については必要であれば以下を適宜参考にすると良い <a class="footnote-reference brackets" href="#textbook" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> ．高木(2009)は非常に良くまとまっているので，これがあれば困ることは少ないであろう．紙の本が良いという人は富田・齋藤(2011)がよくまとまっている．少し古いバージョンがWebで参照でき，多くの人にはこれで十分である．牛島(2007)は少し初心者には分かりづらいかもしれないが，モジュールに関する記述が実践的である．数値計算についても少し触れられているが，本格的に取り組む場合は専門の文献も併せて参考にした方が良い．</p>
<ol class="arabic simple">
<li><p>高木征弘 (2009) 『地球物理学演習テキスト Fortran90/95入門』</p></li>
<li><p>富田博之，齋藤泰洋 (2011) 『Fortran90/95プログラミング』 (培風館)</p></li>
<li><p>牛島省 (2007) 『数値計算のためのFortran 90/95 プログラミング入門』
(森北出版)</p></li>
</ol>
<section id="id3">
<h2><span class="section-number">1.1. </span>演習環境の準備<a class="headerlink" href="#id3" title="Link to this heading"></a></h2>
<p>この演習で用意されているサンプルプログラムや課題（の一部）は，リダイレクトなど，Unix-likeな環境のコマンドラインでの実行を仮定している．したがって，個人のマシンで自習をするには，Unix-likeなFortranの開発環境を構築する必要がある．ある程度の知識がある人であれば，WindowsならWSL2(Windows Subsystem for Linux)，MacならHomebrewまたはMacPortsなどをインストールすることで使えるようになるだろう．VMWareやVirtualBoxなどを使って，仮想マシンとしてLinuxなどのOSをインストールして使うことも出来る．</p>
<p>パソコン初心者で，これらの敷居が高いと感じる人は</p>
<blockquote>
<div><p><a class="reference external" href="https://github.com/chibutsu-utokyo/ubuntu-22.04">https://github.com/chibutsu-utokyo/ubuntu-22.04</a></p>
</div></blockquote>
<p>を使うこともできる．これはブラウザ上で動作する（Linux環境の）VS Codeで，Githubのアカウントさえあれば誰でも使うことができる．この環境にはFortranのコンパイラもインストールされているし，以下のサンプルや課題の解答のリポジトリもダウンロードされているので，とりえあずこの演習に取り組むには最適である．</p>
<p>サンプルや解答は各章のリンクからダウンロードすることが出来るようになっている．また，それぞれGithub上の <a class="reference external" href="https://github.com/amanotk/fortran-resume-sample">サンプル</a> および <a class="reference external" href="https://github.com/amanotk/fortran-resume-answer">解答</a> のリポジトリにまとめてあるので，これらを参照してもよい． <code class="docutils literal notranslate"><span class="pre">git</span></code> コマンドが使える環境であればコマンドラインで</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/amanotk/fortran-resume-sample.git<span class="w"> </span>sample
<span class="linenos">2</span>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/amanotk/fortran-resume-answer.git<span class="w"> </span>answer
</pre></div>
</div>
<p>などと実行すればサンプルと解答が一括でダウンロードができる．（この場合はサンプルが <code class="docutils literal notranslate"><span class="pre">sample</span></code> というディレクトリに，解答が <code class="docutils literal notranslate"><span class="pre">answer</span></code> というディレクトリに格納される．）</p>
</section>
<section id="id6">
<h2><span class="section-number">1.2. </span>プログラミングを学ぶ意義<a class="headerlink" href="#id6" title="Link to this heading"></a></h2>
<p>いま</p>
<div class="math notranslate nohighlight">
\[x = \cos x\]</div>
<p>なる非線形方程式の解を知りたいとしよう．残念ながら解析的には解は得られない．しかし逐次近似など，繰り返し計算で近似解を求める方法は色々と知られている．だからと言って紙と鉛筆で計算するのは大変なので計算機に任せよう，というのが基本的な考え方である．とは言っても計算機は自分で考えることはできない．どのような処理を行うかを逐一丁寧に教えてやらなければならない．これがプログラミングというものである．計算機を使って処理の自動化をする際の作法と言ってもよい．</p>
<p>もちろん，上の方程式の解を求めるだけなら何もプログラミングを学ぶ必要は無い．そのようなことをやってくれるソフトウェアは探せばいくらでも見つかるだろう．ところが汎用のソフトウェアは決められた計算をするには十分であるが，ちょっとでも違うことをやろうと思うと途端に困ってしまう．誰もやったことのないような最先端の仕事をするには結局のところ必要なものは自分で作らなければいけない．そのためにもここでプログラミングを学んでおくことは非常に重要である(と思う)．</p>
<p>さて，自分のやりたいことを計算機で実現するにはどのような手続を処理させるかをまず整理しなければならない．この手続のことをアルゴリズムと言う．例えば上の例で言えば，非線形方程式を数値的に解くための手法のことである．アルゴリズムが決まればそれをプログラミング言語で記述し，計算機に実行させることができる．本演習ではFortranというプログラミング言語の使い方を覚えることが主たる目的であるので，アルゴリズムについては詳しく説明しない．しかし，プログラミング言語の文法は世の中に数多ある言語で様々であるが，アルゴリズムは言語が何であろうと変わらないので，実際にはアルゴリズムの理解の方が重要であることを十分に認識しておいて欲しい．</p>
</section>
<section id="id7">
<h2><span class="section-number">1.3. </span>プログラミング言語について<a class="headerlink" href="#id7" title="Link to this heading"></a></h2>
<p>これから学ぶのは正確にはFortran 90/95と呼ばれる規格の言語である．90とか95というのは1990年とか1995年に規格が定められたという意味である．Fortran 90とFortran 95ではあまり違いが無いのでこのように記述することが多い．2000年前後まではFortran 77という規格が幅を効かせていたのだが，最近ではopen sourceのコンパイラ(後述)が普及したこともあって，今から勉強するならFortran 90/95が良い選択肢である．(より新しい規格としてFortran 2003や2008，さらには2018も存在し，その主な違いはオブジェクト指向プログラミングのサポートである．これは明らかに本演習の範囲を超えているので扱わないことにする．偏見ではあるがオブジェクト指向プログラミングをしたい人はそもそもFortranは選ばないだろう．) ただし太古の昔から脈々と受け継がれてきたプログラムなどは今でも古めかしいFortran 77のままで現役で使われている．そのようなプログラムに出会ってしまった時には諦めてFortran 77も勉強しよう．(実はそういうことは結構あるのだが，いくつかの違いさえ理解してしまえば，それほど難しいことでは無い．) 本演習では単にFortranと言った場合にはFortran 90/95を指している．</p>
<p>ちなみにプログラミング言語というのは星の数ほどあり，よく知られたものだけでも C/C++，C#，Java，Javascript，Perl，Python，Ruby，Lispなどがある．正直に言えば今更Fortranを学ぶのは時代遅れである．多くの言語の文法がC言語に近くできているのに対してFortranは仲間外れの部類である．また，C言語を習得した人がFortranを習得するのは比較的容易いが，その逆は必ずしも真ではない．しかし一応フォローしておくとFortranにもメリットはあって，分野にも依るが時代遅れと言われながらもしぶとく今でも現役で使われ続けている言語であり，この傾向はまだしばらく続くであろう．また，Fortranは細かいことを考える必要があまり無い比較的簡単な言語でもあるので，初心者にはとっつきやすいと同時にプログラミングの専門家では無い科学者向きの言語であるとも言える．</p>
<p>ただし基本的な考え方は他の言語でもあまり変わらないので，興味のある人はぜひ他の言語にも挑戦してもらいたい．おすすめは(少しとっつきにくいところはあるものの)比較的簡単な言語でありながら応用範囲の広いPythonである <a class="footnote-reference brackets" href="#id9" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> ．Pythonは <a class="reference external" href="https://amanotk.github.io/python-resume-public/">Python演習</a> で扱うが，これはFortran(に限らずプログラミング言語一般)の知識をある程度習得している人向けである．またC言語は教養として知っておくと非常に役に立つ．</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>この文書を書き始めたのはおそらく2013年頃であったかと思うが，それから約10年が経過した2024年現在でも，Fortranは依然としていわゆるHigh-Performance Computing（HPC）では現役で用いられている言語であり続け，Fortranが駆逐される時代はまだしばらく訪れないように思われる．</p>
<p>しかし，もし筆者が独断と偏見で学生に教育する言語を選択するのであればFortranは選ばないであろう．各研究分野の都合にも大きく依存するであろうが，私見ではレガシーコードの維持という観点以外では，学生にFortranを教える積極な理由が見いだせてないためである．実際に新規開発される欧米のHPCコードやライブラリではC++，特にいわゆるModern C++を採用している例が多く見受けられるようになっている（その理由を考え始めると長くなるのでここでは述べない）．しかし，最近のC++はFortranに比べると非常に難しく，一般の研究者向きの言語とは呼べないシロモノになってしまったのが悩ましいところである．ただし，多くの研究者にとってはPythonが使えるようになっていれば，他の言語が必要になっても比較的容易に対処ができるのではないだろうか（ちなみに最近のC++はPythonに近い書き方ができるようになってきている）．</p>
</div>
<hr class="docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="textbook" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p>基礎的には本演習で扱う事項さえ理解してしまえば，分からないことは本で探すよりインターネットで探した方が早いので，自分で必要性を感じなければ教科書などは特に購入する必要は無い．更に言うと巷には古い(参考にしないほうが良い)Fortranの本があふれているので注意して欲しい．大抵はどこかの大学の年配の先生が書いた年季の入ったテキストを基に教科書としたものであるが，お世辞にも薦められないような本がごく最近にも出版されている．偏見たっぷりに言うと，サンプルプログラムが全部大文字で記述されているような本はかなりの確率でこの部類に入ると思って良い．</p>
</aside>
<aside class="footnote brackets" id="id9" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id8">2</a><span class="fn-bracket">]</span></span>
<p>実はPythonを使うとCやFortranの半分以下の行数でやりたいことが実現出来る場合が多く,最近の計算機能力を考えると大規模計算をするのでなければ実用上はほとんど Pythonで事足りてしまう．実際に世界的に科学や工学の多くの分野でPythonの導入が進んでいる．</p>
</aside>
</aside>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Fortran演習 (地球惑星物理学演習)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="chap02.html" class="btn btn-neutral float-right" title="2. プログラムの作成と実行" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Takanobu Amano.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>